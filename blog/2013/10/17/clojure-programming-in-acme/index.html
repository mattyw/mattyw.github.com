
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Clojure programming in acme - mattyw</title>
  <meta name="author" content="Matt Williams">

  
  <meta name="description" content="Today I finally got round to trying out something i&rsquo;d been meaning to look into for nearly a year, and seeing as clojure and editors seems to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mattyw.github.io/blog/2013/10/17/clojure-programming-in-acme">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="mattyw" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41678780-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">mattyw</a></h1>
  
    <h2>talkative, friendly, programmer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mattyw.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Clojure Programming in Acme</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-17T14:04:00+01:00" pubdate data-updated="true">Oct 17<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Today I finally got round to trying out something i&rsquo;d been meaning to look into for nearly a year, and seeing as clojure and editors seems to be a topic again I thought it would help add some diversity.</p>

<p>Acme is an editor unlike any other. It was designed by Rob Pike for Plan9 (although it&rsquo;s available for unix-like systems using <a href="http://swtch.com/plan9port/">Plan9 from User Space</a>).
It&rsquo;s designed to be an editor and shell. Unlike emacs and vim which encourage you to keep your hands on the keyboard, acme requires use of a 3-button mouse, and it supports something called mouse chording. A rough guide would be:</p>

<ul>
<li>Button 1: Select Text</li>
<li>Button 2: Execute Command</li>
<li>Button 3: Search/ acquire text (or load file)</li>
<li>Button 1-2 Cutting</li>
<li>Button 1-3 Pasting</li>
<li>Button 1-2,3 Cut+Paste (Copy)</li>
</ul>


<p>My introduction to acme was via Russ Cox&#8217; video, which is a great starting point:</p>

<iframe width="560" height="315" src="//www.youtube.com/embed/dP1xVpMPn8M" frameborder="0" allowfullscreen></iframe>


<p>You can probably summarise the whole thing by saying that in acme &ndash; text is data. Once you type some text, it can be saved into a file, executed as a command or passed as an argument to a command.</p>

<p>Obviously this resonated with the clojure part of my brain. It occured to me that being able to select some clojure code in acme and evaluate it would make acme a great editor for clojure.</p>

<p>Thanks to nrepl the job is really quite easy. I wrote a very <em>very</em> simple nrepl client in go. You can find it on my <a href="https://github.com/mattyw/gonrepl">github</a></p>

<p>All it does is read clojure code from stdin and send it to nrepl. This is really all there is to do. In acme you just need to type your command in one of the scratch areas:</p>

<p>Take a look at the below screenshot. You can see:</p>

<ol>
<li>In yellow: selected clojure code with mouse button 1</li>
<li>In red: selected command with mouse button two</li>
<li>Release the buttons and the window in the bottom right contains the evalutated code</li>
</ol>


<p><a href="http://imgur.com/NoEHuqV"><img src="http://i.imgur.com/NoEHuqV.png" title="Hosted by imgur.com" /></a></p>

<p>Here&rsquo;s a video of me doing it:</p>

<iframe src="//player.vimeo.com/video/77128688" width="500" height="345" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>


<p> <p><a href="http://vimeo.com/77128688">Clojure in Acme</a> from <a href="http://vimeo.com/user5806599">Matthew Williams</a> on <a href="https://vimeo.com">Vimeo</a>.</p></p>

<p>To get this setup yourself:</p>

<ol>
<li>Install plan9 from user space to get acme</li>
<li>run lein repl in some terminal</li>
<li>You&rsquo;ll need a command line tool that can take clojure code on stdin and send it to nrepl. I used my own gonrepl tool- To use that you need to install go then run:</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>go install github.com/mattyw/gonrepl/...
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s it. Thanks for reading!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Matt Williams</span></span>

      








  


<time datetime="2013-10-17T14:04:00+01:00" pubdate data-updated="true">Oct 17<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/acme/'>acme</a>, <a class='category' href='/blog/categories/clojure/'>clojure</a>, <a class='category' href='/blog/categories/go/'>go</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://mattyw.github.io/blog/2013/10/17/clojure-programming-in-acme/" data-via="matty_jwilliams" data-counturl="http://mattyw.github.io/blog/2013/10/17/clojure-programming-in-acme/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/08/16/why-juju-means-i-dont-need-a-vps/" title="Previous Post: Why Juju means I don't need a VPS">&laquo; Why Juju means I don't need a VPS</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/10/30/go-playground-as-a-service/" title="Next Post: Go playground as a service">Go playground as a service &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Links</h1>
  <p><a href="http://mattyw.net">mattyw.net</a></p>
  <p><a href="http://mattyjwilliams.blogspot.com">Old Blog</a></p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/10/29/juju-charm-shortcut/">The Remote-deployer Charm: Playing With Juju During a Tea Break</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/18/snappy-juju-flasher-video/">Video: Juju Status Flasher on Ubuntu Snappy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/12/keep-a-logbook/">Keep a Logbook and Love Your Tools</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/09/simple-piglow-snap-for-raspberry-pi-2/">Simple Piglow Snap for Raspberry Pi 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/08/generics-and-monads-in-good-time/">Generics and Monads in Good Time</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/02/what-have-you-learned-from-language-x/">What Have You Learned From Language X?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/01/getting-software-done/">Getting Software Done</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/14/vim-survey-results/">Vim Survey Results</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/30/go-playground-as-a-service/">Go Playground as a Service</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/17/clojure-programming-in-acme/">Clojure Programming in Acme</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/acme' style='font-size: 110.0%'>acme(1)</a> <a href='/blog/categories/charms' style='font-size: 110.0%'>charms(1)</a> <a href='/blog/categories/clojure' style='font-size: 120.0%'>clojure(2)</a> <a href='/blog/categories/elixir' style='font-size: 120.0%'>elixir(2)</a> <a href='/blog/categories/generics' style='font-size: 110.0%'>generics(1)</a> <a href='/blog/categories/go' style='font-size: 160.0%'>go(6)</a> <a href='/blog/categories/gtd' style='font-size: 110.0%'>gtd(1)</a> <a href='/blog/categories/haskell' style='font-size: 110.0%'>haskell(1)</a> <a href='/blog/categories/juju' style='font-size: 140.0%'>juju(4)</a> <a href='/blog/categories/monads' style='font-size: 110.0%'>monads(1)</a> <a href='/blog/categories/mongo' style='font-size: 110.0%'>mongo(1)</a> <a href='/blog/categories/notebooks' style='font-size: 110.0%'>notebooks(1)</a> <a href='/blog/categories/pens' style='font-size: 110.0%'>pens(1)</a> <a href='/blog/categories/perlis' style='font-size: 110.0%'>perlis(1)</a> <a href='/blog/categories/productivity' style='font-size: 110.0%'>productivity(1)</a> <a href='/blog/categories/raspberrypi' style='font-size: 130.0%'>raspberrypi(3)</a> <a href='/blog/categories/snappy' style='font-size: 120.0%'>snappy(2)</a> <a href='/blog/categories/survey' style='font-size: 110.0%'>survey(1)</a> <a href='/blog/categories/tools' style='font-size: 110.0%'>tools(1)</a> <a href='/blog/categories/ubuntu' style='font-size: 120.0%'>ubuntu(2)</a> <a href='/blog/categories/vim' style='font-size: 110.0%'>vim(1)</a> </span>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/mattyw">@mattyw</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mattyw',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107203120641670420594?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Matt Williams -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mattyw';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mattyw.github.io/blog/2013/10/17/clojure-programming-in-acme/';
        var disqus_url = 'http://mattyw.github.io/blog/2013/10/17/clojure-programming-in-acme/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
